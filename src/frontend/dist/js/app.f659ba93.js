(function(e){function t(t){for(var a,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==o[l]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],s=n("2877"),i={},l=Object(s["a"])(i,o,r,!1,null,null,null),c=l.exports,u=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e._m(0),n("div",{staticClass:"fields"},[n("div",{staticClass:"formField"},[e._m(1),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.atendente,expression:"atendente"}],staticClass:"input",attrs:{type:"text",id:"atendente",name:"atendente"},domProps:{value:e.atendente},on:{input:function(t){t.target.composing||(e.atendente=t.target.value)}}})]),n("div",{staticClass:"formField"},[n("label",{attrs:{for:"pronome"}},[n("b",[e._v("Pronome")]),n("br"),n("div",{staticClass:"radioGroup"},[n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pronome,expression:"pronome"}],attrs:{type:"radio",name:"pronome",id:"o",value:"o"},domProps:{checked:e._q(e.pronome,"o")},on:{change:function(t){e.pronome="o"}}}),e._v(" o ")]),n("label",{staticClass:"radio"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.pronome,expression:"pronome"}],attrs:{type:"radio",name:"pronome",id:"a",value:"a"},domProps:{checked:e._q(e.pronome,"a")},on:{change:function(t){e.pronome="a"}}}),e._v(" a ")])])])])]),n("div",{staticClass:"messageField"},[e._m(2),n("div",{staticClass:"textControls"},[n("ul",[n("li",[n("span",{staticClass:"button",on:{click:function(t){return e.insertVariable(e.bold)}}},[n("b",[e._v("Negrito")])])]),n("li",[n("span",{staticClass:"button",on:{click:function(t){return e.insertVariable(e.italic)}}},[n("em",[e._v("Itálico")])])]),n("li",[n("span",{staticClass:"button",on:{click:function(t){return e.insertVariable(e.striketrough)}}},[n("del",[e._v("Strike")])])]),n("li",[n("span",{staticClass:"button",on:{click:function(t){return e.insertVariable(e.monospace)}}},[n("span",{staticClass:"is-family-monospace"},[e._v("Monospace")])])]),e._l(e.msgVariables,(function(t,a){return n("li",{key:a},[n("span",{staticClass:"button",attrs:{title:t.description},on:{click:function(n){return e.insertVariable(t.variable)}}},[e._v(e._s(t.variable))])])}))],2)]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"msgTxt",staticClass:"textarea",attrs:{placeholder:"Digite a sua mensagem. Utilize os botões acima para inserir variáveis ou formatar o texto.",name:"message",id:"message"},domProps:{value:e.message},on:{mouseup:function(t){return e.detectTextSelection(t)},input:function(t){t.target.composing||(e.message=t.target.value)}}})]),n("div",{staticClass:"uploadArea"},[e.files.length?n("ul",e._l(e.files,(function(t){return n("li",{key:t.id},[n("span",[e._v(e._s(t.name))])])})),0):n("div",[e._m(3)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.$refs.upload&&e.$refs.upload.dropActive,expression:"$refs.upload && $refs.upload.dropActive"}],staticClass:"drop-active"},[n("h3",[e._v("Solte os arquivos aqui para enviar")])]),n("div",{staticClass:"example-btn"},[n("file-upload",{ref:"upload",staticClass:"btn btn-primary",attrs:{"post-action":"/upload/post",multiple:!1,drop:!0,"drop-directory":!0},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[n("label",{staticClass:"button"},[e._v("Selecionar Arquivos")])])],1)]),n("div",{staticClass:"is-flex is-justify-content-center"},[e.$refs.upload&&e.$refs.upload.active?e._e():n("button",{staticClass:"button is-primary",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.postStuff.apply(null,arguments)}}},[e._v("Gerar")])])])},p=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Faça upload de um arquivo seguindo "),n("a",{attrs:{href:"/static/sample.csv",target:"_blank",download:""}},[e._v("este exemplo")]),e._v(", insira a mensagem e clique em gerar")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"atendente"}},[n("b",[e._v("Atendente")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{attrs:{for:"message"}},[n("b",[e._v("Mensagem")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center p-5"},[n("h4",[e._v("Arraste e solte o arquivo aqui ou"),n("br"),n("br")]),n("label",{staticClass:"button",attrs:{for:"file"}},[e._v("Selecione o arquivo")])])}],m=(n("d3b7"),n("159b"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("99af"),n("8019")),f=n.n(m),v=n("bc3a"),b=n.n(v),g=n("e1bd"),h={name:"Home",components:{FileUpload:f.a},data:function(){return{files:[],selectedText:"",msgVariables:[{variable:"[nome]",description:"Nome completo"},{variable:"[pnome]",description:"Primeiro nome"},{variable:"[telefone]",description:"Telefone do lead"},{variable:"[email]",description:"Email do lead"},{variable:"[pronome]",description:"Pronome do atendente"},{variable:"[atendente]",description:"Nome do atendente"}],atendente:"Gabriel",pronome:"o",message:"O primeiro nome de [nome] é [pnome], o telefone é [telefone], o email [email] e quem vai atender é [pronome] [atendente]"}},computed:{bold:function(){return"*".concat(this.selectedText,"*")},italic:function(){return"_".concat(this.selectedText,"_")},striketrough:function(){return"~".concat(this.selectedText,"~")},monospace:function(){return"```".concat(this.selectedText,"```")}},methods:{detectTextSelection:function(e){var t=e.target.value.substring(e.target.selectionStart,e.target.selectionEnd);this.selectedText=t},insertVariable:function(e){var t=this,n=this.$refs.msgTxt;if(console.log("VAriável",e),0!=e&&0!=r){var a=n.selectionStart,o=n.selectionEnd,r=a,s=n.value;console.log({startPos:a,endPos:o,cursorPos:r,tmpStr:s}),t.message=s.substring(0,a)+e+s.substring(o,s.length),setTimeout((function(){r+=e.length,n.selectionStart=n.selectionEnd=r}),10)}},postStuff:function(){console.log("MSG => ",this.message);var e=new FormData;e.append("atendente",this.atendente),e.append("pronome",this.pronome),e.append("message",this.message),this.files.forEach((function(t){return e.append("csv",t.file)})),b.a.post("/xls",e,{responseType:"blob",headers:{"Content-Type":"multipart/form-data; boundary=".concat(e._boundary)}}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=t,n.setAttribute("download","/downloads/".concat(Object(g["a"])(),"-").concat(e.headers["x-file-name"])),document.body.appendChild(n),n.click()}))}}},_=h,x=Object(s["a"])(_,d,p,!1,null,null,null),y=x.exports;a["a"].use(u["a"]);var C=[{path:"/",name:"Home",component:y}],w=new u["a"]({mode:"history",base:"/",routes:C}),k=w,S=n("2f62");a["a"].use(S["a"]);var P=new S["a"].Store({state:{},mutations:{},actions:{},modules:{}});n("b383");a["a"].config.productionTip=!1,new a["a"]({router:k,store:P,render:function(e){return e(c)}}).$mount("#app")},b383:function(e,t,n){}});
//# sourceMappingURL=app.f659ba93.js.map